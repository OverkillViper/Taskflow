import{k as f,T as m,y,o as l,f as i,a as v,u as o,c as g,Y as x,e as p,t as h,b as V,n as w}from"./app-CjkOLGii.js";import{s as z}from"./index-D0cC4ajB.js";import{s as C}from"./index-Apsg4YZL.js";const S={key:1,class:"ps-3 flex-grow font-medium items-center text-sm select-none"},T={__name:"SubTaskCard",props:{subtask:Object},setup(u){const s=f(!1),a=u,e=m({title:a.subtask.title,completed:a.subtask.completed===1});y(()=>a.subtask,n=>{e.title=n.title,e.completed=n.completed===1},{deep:!0});const c=m({title:""}),d=()=>{e.put(route("subtasks.update",a.subtask.id)),s.value=!1},k=()=>{console.log(e.completed),e.put(route("tasks.subtasks.status.change",a.subtask.id))},b=()=>{c.delete(route("subtasks.destroy",a.subtask.id))};return(n,t)=>(l(),i("form",{onSubmit:t[3]||(t[3]=p(()=>{},["prevent"])),class:"flex items-center py-2 ps-3 pe-4 border border-transparent hover:border-gray-200 hover:bg-white rounded-md gap-x-4 h-12"},[v(o(z),{modelValue:o(e).completed,"onUpdate:modelValue":[t[0]||(t[0]=r=>o(e).completed=r),k],binary:"",variant:"filled",disabled:s.value},null,8,["modelValue","disabled"]),s.value?(l(),g(o(C),{key:0,modelValue:o(e).title,"onUpdate:modelValue":t[1]||(t[1]=r=>o(e).title=r),variant:"filled",size:"small",class:"flex-grow text-sm font-medium",onKeydown:x(p(d,["meta"]),["enter"])},null,8,["modelValue","onKeydown"])):(l(),i("div",S,h(u.subtask.title),1)),V("i",{class:w(["pi text-gray-400 hover:text-gray-700 transition",s.value?"pi-times":"pi-pencil"]),style:{"font-size":".7rem"},onClick:t[2]||(t[2]=r=>s.value=!s.value)},null,2),s.value?(l(),i("i",{key:2,class:"pi pi-check text-gray-400 hover:text-gray-700 transition",style:{"font-size":".7rem"},onClick:d})):(l(),i("i",{key:3,class:"pi pi-trash text-gray-400 hover:text-gray-700 transition",style:{"font-size":".7rem"},onClick:b}))],32))}};export{T as default};
